<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼‚ç•Œç‰©ç†å­¦å®¶ï¼šåé“çœŸç†ä¹‹é—¨</title>
    <style>
        body { font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif; background: #0d1117; color: #c9d1d9; display: flex; justify-content: center; padding: 20px; line-height: 1.6; }
        #game-container { max-width: 700px; background: #161b22; padding: 30px; border-radius: 12px; border: 1px solid #30363d; box-shadow: 0 8px 32px rgba(0,0,0,0.5); }
        h1 { color: #58a6ff; text-align: center; border-bottom: 1px solid #30363d; padding-bottom: 10px; }
        .stats { display: flex; justify-content: space-between; background: #21262d; padding: 12px; border-radius: 6px; margin-bottom: 20px; color: #8b949e; font-size: 0.9em; }
        .content { font-size: 1.1em; margin-bottom: 25px; min-height: 150px; }
        .choices { display: flex; flex-direction: column; gap: 12px; }
        button { background: #238636; color: white; border: 1px solid rgba(240,246,252,0.1); padding: 14px; border-radius: 6px; cursor: pointer; font-size: 1em; text-align: left; transition: 0.2s; }
        button:hover { background: #2ea043; transform: translateX(5px); }
        button:disabled { background: #30363d; color: #8b949e; cursor: not-allowed; }
        .highlight { color: #ffa657; font-weight: bold; }
    </style>
</head>
<body>

<div id="game-container">
    <h1>å¼‚ç•Œç‰©ç†å­¦å®¶ï¼šåé“çœŸç†ä¹‹é—¨</h1>
    <div class="stats">
        <span>ğŸ§  è„‘åŠ›: <span id="mp">100</span></span>
        <span>ğŸ›¡ï¸ è£…å¤‡: <span id="item">è¯¾æœ¬</span></span>
        <span>ğŸ“ è¿›åº¦: <span id="step">1</span>/10</span>
    </div>
    <div id="scene-text" class="content"></div>
    <div id="choice-buttons" class="choices"></div>
</div>

<script>
    let state = { mp: 100, item: "ç‰©ç†è¯¾æœ¬", step: 1 };

    const story = {
        1: {
            text: "ä½ é†’åœ¨é­”æ³•æ£®æ—ã€‚ç²¾çµè‰¾ç³è®¤ä¸ºä½ æ˜¯é—´è°ã€‚ä½ æ‰‹é‡Œåªæœ‰ä¸€æœ¬ã€Šé«˜ä¸­ç‰©ç†ã€‹ã€‚",
            choices: [
                { text: "ã€å…‰å­¦ã€‘åˆ©ç”¨å°é¢åå°„é˜³å…‰åˆ¶é€ 'ç¥è¿¹'", next: 2, effect: { mp: -5 } },
                { text: "ã€å¤–äº¤ã€‘ç”¨è–„è·ç³–è´¿èµ‚å¥¹ï¼ˆéœ€è¦ä½ æœ‰ç³–ï¼Œä½†ç°åœ¨åªæœ‰ä¹¦ï¼‰", next: 2, disabled: true }
            ]
        },
        2: {
            text: "è‰¾ç³å¸¦ä½ å‡ºæ£®æ—ï¼Œè¢«æ¯èçŒçŠ¬åŒ…å›´ã€‚å‰æ–¹æœ‰ä¸€å—ä¸ç¨³çš„å·¨çŸ³ã€‚",
            choices: [
                { text: "ã€åŠ›å­¦ã€‘åˆ©ç”¨æ æ†åŸç†æ’¬åŠ¨å·¨çŸ³å‹æ­»çŒçŠ¬", next: 3, effect: { item: "æ æ†ç»éªŒ" } },
                { text: "ã€é€ƒè·‘ã€‘æ¶ˆè€—è„‘åŠ›å…¨é€Ÿå¥”è·‘", next: 3, effect: { mp: -20 } }
            ]
        },
        3: {
            text: "ä½ ä»¬è¿›å…¥çŸ®äººåºŸå¢Ÿï¼Œé‡åˆ°ä¸€å°ç”Ÿé”ˆçš„æ‰«å°„æœºç”²ã€‚",
            choices: [
                { text: "ã€é€»è¾‘ã€‘å¤§å–Š'è¯´è°è€…æ‚–è®º'è®©å®ƒé€»è¾‘æ­»é”", next: 4, effect: { mp: -10 } },
                { text: "ã€ç”µè·¯ã€‘ç”¨å›å½¢é’ˆè®©æœºç”²ç”µæ± çŸ­è·¯", next: 4, effect: { item: "å¯¼çº¿" } }
            ]
        },
        4: {
            text: "çŸ®äººå·¥åŒ å·´æ—å‡ºç°äº†ï¼ä»–çš„ç†”ç‚‰å¿«ç‚¸äº†ã€‚",
            choices: [
                { text: "ã€çƒ­åŠ›å­¦ã€‘å»ºç«‹å†·å‡å®¤ï¼Œå‘æ˜è’¸æ±½æœº", next: 5, effect: { item: "è’¸æ±½å¤–éª¨éª¼" } },
                { text: "ã€å£°å­¦ã€‘è°ƒæ•´ç®¡é“é•¿åº¦äº§ç”Ÿé©»æ³¢é™å‹", next: 5, effect: { item: "å£°æ³¢ç­’" } }
            ]
        },
        5: {
            text: "è«å¾·é›·æ´¾æ¥é£è¡Œæ¶é­”è¿½æ€ä½ ä»¬ã€‚ä½ åœ¨é«˜å¤„ã€‚",
            choices: [
                { text: "ã€é‡åŠ›ã€‘è®¡ç®—æŠ›ç‰©çº¿ï¼ŒæŠ•æ·å·´æ—çš„ç‚¸å¼¹", next: 6 },
                { text: "ã€ç©ºæ°”åŠ¨åŠ›å­¦ã€‘åˆ©ç”¨å¤–éª¨éª¼æ»‘ç¿”é€ƒç”Ÿ", next: 6 }
            ]
        },
        6: {
            text: "åˆ°è¾¾é»‘çŸ³å ¡å’æŠ¤åŸæ²³ï¼Œæ²³æ°´æœ‰å‰§æ¯’ä¸”æ¹æ€¥ã€‚",
            choices: [
                { text: "ã€æµä½“åŠ›å­¦ã€‘åˆ©ç”¨ä¼¯åŠªåˆ©åŸç†åˆ¶é€ å–·æ°”èˆ¹", next: 7 },
                { text: "ã€ç”µè§£ã€‘ç”¨å¼ºç”µæµå°†æ°´åˆ†è§£ï¼ˆéœ€è¦å‘ç”µæœºï¼‰", next: 7, disabled: true }
            ]
        },
        7: {
            text: "æ½œå…¥å ¡å’ï¼Œé‡åˆ°ç¦é­”åŠ›åœºç¬¼å­å…³ç€é•¿è€ã€‚",
            choices: [
                { text: "ã€ç”µç£å­¦ã€‘åˆ¶ä½œæ³•æ‹‰ç¬¬ç¬¼å±è”½ç”µç£æ”»å‡»", next: 8 },
                { text: "ã€çƒ­èƒ€å†·ç¼©ã€‘ç”¨å†°ç«ä¸¤é‡å¤©éœ‡ç¢é”èŠ¯", next: 8 }
            ]
        },
        8: {
            text: "è«å¾·é›·å‘ç°ä½ ä»¬äº†ï¼ä»–é‡Šæ”¾äº†ç»å¯¹é›¶åº¦å’’è¯­ã€‚",
            choices: [
                { text: "ã€èƒ½é‡å®ˆæ’ã€‘é€šè¿‡å‰§çƒˆæ‘©æ“¦å¤–éª¨éª¼äº§çƒ­", next: 9 },
                { text: "ã€ç‰©æ€å˜åŒ–ã€‘åˆ©ç”¨å‡åå¸çƒ­ååˆ¶", next: 9 }
            ]
        },
        9: {
            text: "æœ€ç»ˆä»ªå¼å°ï¼å››ä¸ªç†µå¢æ”¾å¤§å™¨æ­£åœ¨è¿è¡Œã€‚",
            choices: [
                { text: "ã€å…±æŒ¯ã€‘å¯»æ‰¾æ”¾å¤§å™¨çš„å›ºæœ‰é¢‘ç‡éœ‡ç¢å®ƒ", next: 10 },
                { text: "ã€å…‰å­¦ã€‘åˆ©ç”¨é€é•œæ±‡èšåœ£å…‰ç›´æ¥æ°”åŒ–", next: 10 }
            ]
        },
        10: {
            text: "è«å¾·é›·ç»æœ›åœ°å†²å‘ä½ ã€‚è¿™æ˜¯æœ€åçš„ä¸€å‡»ï¼",
            choices: [
                { text: "ã€è´¨èƒ½æ–¹ç¨‹ã€‘çƒ§æ¯è¯¾æœ¬é‡Šæ”¾å¾®å‹æ ¸èšå˜", next: "end_god" },
                { text: "ã€ç»å…¸åŠ›å­¦ã€‘ç”¨å¤–éª¨éª¼å…¨åŠ›ä¸€æ‹³", next: "end_hero" }
            ]
        },
        "end_god": { text: "ğŸ‰ã€ç»“å±€ï¼šç‰©ç†çœŸç¥ã€‘ä½ ä¸ä»…æ‹¯æ•‘äº†ä¸–ç•Œï¼Œè¿˜æ”¹å†™äº†é­”æ³•åº•å±‚çš„æ•°å­¦å¸¸æ•°ã€‚ç°åœ¨ï¼Œè¿™ä¸ªä¸–ç•Œçš„äººæ–½æ³•å‰å¿…é¡»å…ˆè§£äºŒé˜¶å¾®åˆ†æ–¹ç¨‹ã€‚", choices: [{ text: "é‡å›åœ°çƒï¼ˆé‡å¯ï¼‰", next: 1 }] },
        "end_hero": { text: "ğŸ›¡ï¸ã€ç»“å±€ï¼šé’¢é“è´¤è€…ã€‘ä½ å‡»è´¥äº†å·«å¸ˆï¼Œæˆä¸ºäº†çŸ®äººå’Œç²¾çµå…±åŒçš„å¯¼å¸ˆã€‚ä½ å”¯ä¸€çš„çƒ¦æ¼æ˜¯ï¼Œä»–ä»¬æ€»æ˜¯æŠŠä½ çš„ç‰©ç†ä¹¦å½“æˆåœ£ç»æ¥æ‹œã€‚", choices: [{ text: "é‡å›åœ°çƒï¼ˆé‡å¯ï¼‰", next: 1 }] }
    };

    function updateStats() {
        document.getElementById('mp').innerText = state.mp;
        document.getElementById('item').innerText = state.item;
        document.getElementById('step').innerText = state.step;
    }

    function renderScene(key) {
        const scene = story[key];
        const textEl = document.getElementById('scene-text');
        const btnEl = document.getElementById('choice-buttons');
        
        textEl.innerHTML = scene.text;
        btnEl.innerHTML = '';

        if (state.mp <= 0) {
            textEl.innerHTML = "âŒ <span class='highlight'>è„‘åŠ›è€—å°½ï¼</span>ä½ åœ¨è®¡ç®—å…¬å¼æ—¶æ™•å€’äº†ï¼Œè«å¾·é›·ç»Ÿæ²»äº†ä¸–ç•Œã€‚";
            const btn = document.createElement('button');
            btn.innerText = "æ—¶å…‰å€’æµï¼ˆé‡æ¥ï¼‰";
            btn.onclick = () => { state = { mp: 100, item: "ç‰©ç†è¯¾æœ¬", step: 1 }; renderScene(1); };
            btnEl.appendChild(btn);
            return;
        }

        scene.choices.forEach(c => {
            const btn = document.createElement('button');
            btn.innerText = c.text;
            if (c.disabled) btn.disabled = true;
            btn.onclick = () => {
                if (c.effect) {
                    if (c.effect.mp) state.mp += c.effect.mp;
                    if (c.effect.item) state.item = c.effect.item;
                }
                if (typeof c.next === 'number') state.step = c.next;
                updateStats();
                renderScene(c.next);
            };
            btnEl.appendChild(btn);
        });
    }

    updateStats();
    renderScene(1);
</script>
</body>
</html>
